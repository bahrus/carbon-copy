import{XtallatX}from"./node_modules/xtal-latx/xtal-latx.js";var from="from",copy="copy",noshadow="noshadow";export var BCC=function(_XtallatX){babelHelpers.inherits(BCC,_XtallatX);function BCC(){var _this;babelHelpers.classCallCheck(this,BCC);_this=babelHelpers.possibleConstructorReturn(this,(BCC.__proto__||Object.getPrototypeOf(BCC)).apply(this,arguments));_this._originalChildren=[];return _this}babelHelpers.createClass(BCC,[{key:"attributeChangedCallback",value:function attributeChangedCallback(name,oldValue,newValue){switch(name){case copy:this._copy=null!==newValue;break;case from:this._from=newValue;break;case noshadow:this._noshadow=null!==newValue;break;}this.onPropsChange()}},{key:"connectedCallback",value:function connectedCallback(){var _this2=this;this._upgradeProperties([copy,from]);this.childNodes.forEach(function(node){_this2._originalChildren.push(node.cloneNode(!0))});this.innerHTML="";this._connected=!0;this.onPropsChange()}},{key:"getCEName",value:function getCEName(templateId){if(-1<templateId.indexOf("-"))return templateId;return"c-c-"+templateId.split("_").join("-")}},{key:"getHost",value:function getHost(el,level,maxLevel){var parent=el;while(parent=parent.parentElement){if(11===parent.nodeType){var newLevel=level+1;if(newLevel===maxLevel)return parent.host;return this.getHost(parent.host,newLevel,maxLevel)}else if("HTML"===parent.tagName){return parent}}return null}},{key:"onPropsChange",value:function onPropsChange(){var _this3=this;if(!this._from||!this._connected||this.disabled)return;var fromTokens=this._from.split("/"),fromName=fromTokens[0]||fromTokens[1],newCEName=this.getCEName(fromName),prevId=this._prevId;this._prevId=newCEName;if(!customElements.get(newCEName)){if(!BCC.registering[newCEName]){BCC.registering[newCEName]=!0;var template=null;if(!fromTokens[0]){template=self[fromName]}else{var host=this.getHost(this,0,fromTokens.length);if(host){var cssSelector="#"+fromName;if(host.shadowRoot){template=host.shadowRoot.querySelector(cssSelector)}if(!template)template=host.querySelector(cssSelector)}}if(!template)throw"404";if(template.hasAttribute("data-src")&&!template.hasAttribute("loaded")){var mutationObserver=new MutationObserver(function(){_this3.createCE(template);mutationObserver.disconnect()});mutationObserver.observe(template,{attributeFilter:["loaded"],attributes:!0})}else{this.createCE(template)}}}if(!this._copy)return;customElements.whenDefined(newCEName).then(function(){if(prevId){var _prevEl=_this3.querySelector(prevId);if(_prevEl)_prevEl.style.display="none"}var prevEl=_this3.querySelector(newCEName);if(prevEl){prevEl.style.display="block"}else{var ce=document.createElement(newCEName);_this3._originalChildren.forEach(function(child){ce.appendChild(child.cloneNode(!0))});_this3.appendChild(ce)}})}},{key:"createCE",value:function createCE(template){var ceName=this.getCEName(template.id);if(this._noshadow){var newClass=function(_HTMLElement){babelHelpers.inherits(newClass,_HTMLElement);function newClass(){babelHelpers.classCallCheck(this,newClass);return babelHelpers.possibleConstructorReturn(this,(newClass.__proto__||Object.getPrototypeOf(newClass)).apply(this,arguments))}babelHelpers.createClass(newClass,[{key:"connectedCallback",value:function connectedCallback(){this.appendChild(template.content.cloneNode(!0))}}]);return newClass}(HTMLElement);customElements.define(ceName,newClass)}else{var _newClass=function(_HTMLElement2){babelHelpers.inherits(_newClass,_HTMLElement2);function _newClass(){var _this4;babelHelpers.classCallCheck(this,_newClass);_this4=babelHelpers.possibleConstructorReturn(this,(_newClass.__proto__||Object.getPrototypeOf(_newClass)).call(this));_this4.attachShadow({mode:"open"}).appendChild(template.content.cloneNode(!0));return _this4}return _newClass}(HTMLElement);customElements.define(ceName,_newClass)}}},{key:"from",get:function get(){return this._from},set:function set(val){this.attr(from,val)}},{key:"copy",get:function get(){return this._copy},set:function set(val){this.attr(copy,val,"")}},{key:"noshadow",get:function get(){return this._noshadow},set:function set(val){this.attr(noshadow,val,"")}}],[{key:"is",get:function get(){return"b-c-c"}},{key:"observedAttributes",get:function get(){return[copy,from,noshadow]}}]);return BCC}(XtallatX(HTMLElement));BCC.registering={};if(!customElements.get(BCC.is)){customElements.define(BCC.is,BCC)}