(function(){const p='c-c-',cg=p+'get-',hs=p+'href-stamp',sh='stamp-href',os=p+'orig-style';class CC extends HTMLElement{static get observedAttributes(){return['href','composed','get','set','set-props',sh]}absolute(a,b){var c=a.split('/'),d=b.split('/');return c.pop(),d.forEach(f=>{switch(f){case'.':return;case'..':c.pop();break;default:c.push(f);}}),c.join('/')}append(a,b){const f=a.getElementById(b),g=document.importNode(f.content,!0);if(this._stamp_href){this.qsa('['+(p+'initial-child')+']').forEach(k=>{k.style.display='none'});const j=g.children;for(let k=0,l=j.length;k<l;k++){const m=j[k];m.setAttribute(hs,this._href)}}this.appendChild(g);this._set_props&&this.qsa('[get-props]',this).forEach(j=>{j.getAttribute('get-props').split(';').forEach(l=>{const m=l.split(':'),n=m[1],o=this[n];if(j[m[0]]=this[n],this.pcs||(this.pcs={}),!this.pcs[n]){this.pcs[n]=[];Object.defineProperty(this,n,{enumerable:!0,configurable:!0,set:function(r){this.pcs[n].forEach(s=>s[n]=r)}}),this[n]=o}this.pcs[n].push(j)});j.removeAttribute('get-props')}),this.qsa('[notify-props]',this).forEach(j=>{const k=j.tagName.toLowerCase();customElements.whenDefined(k).then(()=>{const l=customElements.get(k);if(l.properties)for(var m in l.properties){const n=l.properties[m];this.attachPropertyListener(n,m,j)}})})}qsa(a,b){return[].slice.call((b?b:this).querySelectorAll(a))}loadHref(){if(this._once=!0,!!this._href){let needToProcessFurther=!0;if(this._stamp_href&&this.qsa(':scope > ['+hs+']').forEach(a=>{a.getAttribute(hs)===this._href?(needToProcessFurther=!1,a.style.display=a[os]):(a[os]=a.style.display,a.style.display='none')}),!!needToProcessFurther){const splitHref=this._href.split('#');if(!(2>splitHref.length)){const url=splitHref[0],id=splitHref[1];if(0===url.length)return void this.append(document,id,null,url);const isAbsTests=['https://','/','//','http://'];let isAbsolute=!1;for(let a=0,b=isAbsTests.length;a<b;a++)if(url.startsWith(isAbsTests[a])){this._absUrl=url,isAbsolute=!0;break}isAbsolute||(this._absUrl=this.absolute(location.href,url));const absUrl=this._absUrl;let shadowDOM=CC._shadowDoms[absUrl];if(shadowDOM)switch(typeof shadowDOM){case'boolean':const a=CC._shDmSub,b=c=>{this.append(c,id,absUrl,url)};a[absUrl]?a[absUrl].push(b):a[absUrl]=[b];break;case'object':this.append(shadowDOM,id,absUrl,url);}else CC._shadowDoms[absUrl]=!0,fetch(absUrl).then(resp=>{resp.text().then(txt=>{const container=document.createElement('div');container.style.display='none',document.body.appendChild(container);const shadowRoot=container.attachShadow({mode:'open'});CC._shadowDoms[absUrl]=shadowRoot;const parser=new DOMParser;let docFrag=parser.parseFromString(txt,'text/html');docFrag.head&&this.qsa('meta[name="preprocessor"]',docFrag).forEach(metaProcessorTag=>{const metaProcessorIdentifier=metaProcessorTag.getAttribute('content'),metaProcessor=eval(metaProcessorIdentifier);docFrag=metaProcessor(docFrag,this)}),shadowRoot.appendChild(docFrag.body),this.append(shadowRoot,id,absUrl,url);const subscribers=CC._shDmSub[absUrl];subscribers&&(subscribers.forEach(a=>a(shadowRoot)),delete CC._shDmSub[absUrl])})})}}}}c2(){if(this._set){const a=this._set.split(';');a.forEach(b=>{const c=b.split(':'),d=c[0],f=c[1];this.addEventListener(cg+d,g=>{g.detail.value=f})})}if(this._get){const a=this.de(cg+this._get,{});this.innerHTML=a.detail.value}this.loadHref()}camelToDashCase(a){return CC.caseMap[a]||(CC.caseMap[a]=a.replace(CC.CAMEL_TO_DASH,'-$1').toLowerCase())}connectedCallback(){setTimeout(()=>{this.c2()},1)}attachPropertyListener(a,b,c){if(a.notify){const d=this.camelToDashCase(b),f=d+'-changed';c.addEventListener(f,h=>{const j=h.detail.value;this[b]=j,this.de(f,{value:j})})}}de(a,b){const c=new CustomEvent(a,{detail:b,bubbles:!0,composed:this._composed});return this.dispatchEvent(c),c}attributeChangedCallback(a,b,c){'href'===a?(this._href=c,this._once&&this.loadHref()):a===sh?this._stamp_href=void 0!==c:'set-props'===a?this._set_props=null!==c:'composed'===a?this._composed=null!==c:this['_'+a.replace('-','_')]=c}set href(a){this.setAttribute('href',a)}get href(){return this._href}}CC._shadowDoms={},CC._shDmSub={},CC.caseMap={},CC.CAMEL_TO_DASH=/([A-Z])/g;customElements.define('c-c',CC),customElements.define('carbon-copy',class extends CC{})})();